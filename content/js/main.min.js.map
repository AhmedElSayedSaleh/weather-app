{"version":3,"sources":["jquery.libraries.call.js","citySearch.js","main.js"],"names":["$","document","ready","_$$owlCarousel2","owlCarousel","_defineProperty","_$$owlCarousel","loop","nav","dots","0","items","600","1000","tomtomApiKey","getCityLocation","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","city","response","data","lat","lon","address","wrap","_context","prev","next","url","concat","fetch","sent","json","_data$results$0$posit","results","position","freeformAddress","console","log","abrupt","t0","stop","_x","apply","this","arguments","addEventListener","temp","querySelector","minTemp","maxTemp","allTemp","cityName","showCity","cityData","_getData","_callee3","_context3","method","mode","credentials","headers","Content-Type","Accept","Access-Control-Allow-Origin","Access-Control-Allow-Credentials","Access-Control-Allow-Methods","Access-Control-Allow-Headers","displayWeather","_ref2","_callee2","e","_context2","keyCode","value","innerHTML","_x2","getData","then","currently","daily","hourly","temperature","summary","icon","hourlyData","dailyData","Math","round","src","createTempDiv","time","dataLen","weatherContainer","createElement","timeEl","classList","add","length","Date","getHours","toLocaleTimeString","hour","minute","hour12","toLocaleDateString","weekday","iconEl","tempDiv","tempEl","tempDeg","appendChild","tempBtn","forEach","push","refresh","min","max","day","temperatureLow","querySelectorAll","btn","temps","remove","firstElementChild","month","year"],"mappings":"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","file":"main.min.js","sourcesContent":["// ################# forecasts times & dates scroll ###################\n\n$(document).ready(function () {\n  $(\"#hourly\").owlCarousel({\n    loop: true,\n    nav: false,\n    dots: true,\n    loop: false,\n    responsive: {\n      0: {\n        items: 2,\n      },\n      600: {\n        items: 6,\n      },\n      1000: {\n        items: 9,\n      },\n    },\n  });\n\n  $(\"#daily\").owlCarousel({\n    loop: true,\n    nav: false,\n    dots: true,\n    loop: false,\n    responsive: {\n      0: {\n        items: 1,\n      },\n      600: {\n        items: 5,\n      },\n      1000: {\n        items: 8,\n      },\n    },\n  });\n});\n","const tomtomApiKey = \"fzl4lYRf8GT9jgfXRAwA3gsuX2uckhEK\";\n\nconst getCityLocation = async (city) => {\n  // tomtom api key\n\n  const url = `https://api.tomtom.com/search/2/geocode/${city}.json?limit=1&key=${tomtomApiKey}`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    const { lat, lon } = data.results[0].position;\n    const address = data.results[0].address.freeformAddress;\n    console.log(data);\n    return { lat, lon, address };\n  } catch (err) {\n    console.log(err);\n  }\n};\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  const temp = document.querySelector(\"#temp\");\n  const minTemp = document.querySelector(\"#min-temp\");\n  const maxTemp = document.querySelector(\"#max-temp\");\n\n  const allTemp = [];\n\n  const cityName = document.querySelector(\"#cityName\");\n  const showCity = document.querySelector(\"#showCity\");\n  let cityData = {\n    lat: \"30.007414\",\n    lon: \"31.491318\",\n    address: \"new cairo, cairo, egypt\",\n  };\n\n  // Get weather from api\n\n  async function getData() {\n    const url = `https://api.darksky.net/forecast/a177f8481c31fa96c3f95ad4f4f84610/${cityData.lat},${cityData.lon}`;\n    try {\n      const response = await fetch(url, {\n        method: \"GET\",\n        mode: \"cors\",\n        credentials: \"include\",\n\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Credentials\": true,\n          \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\n          \"Access-Control-Allow-Headers\":\n            \"Content-Type, Authorization, X-Requested-With, Accept, Origin, User-Agent, Cache-Control, X-Requested-With\",\n        },\n      });\n      const data = await response.json();\n\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  displayWeather();\n\n  // get city location\n  cityName.addEventListener(\"keyup\", async (e) => {\n    if (e.keyCode === 13) {\n      const city = cityName.value;\n      const data = await getCityLocation(city);\n\n      cityData.lat = data.lat;\n      cityData.lon = data.lon;\n      cityData.address = data.address;\n\n      displayWeather();\n\n      showCity.innerHTML = cityData.address;\n      cityName.value = \"\";\n    }\n  });\n\n  // get current date\n  const getDate = () => {\n    const date = new Date().toLocaleDateString(\"en-US\", {\n      weekday: \"long\",\n      month: \"short\",\n      day: \"numeric\",\n      year: \"numeric\",\n    });\n    return date;\n  };\n  // display date in html\n  const setDate = () => {\n    const date = document.querySelector(\"#date\");\n    date.innerHTML = getDate();\n  };\n  setDate();\n\n  // display weather in html\n  function displayWeather() {\n    getData().then((data) => {\n      const { currently, daily, hourly } = data;\n      const { temperature, summary, icon } = currently;\n      const { data: hourlyData } = hourly;\n      const { data: dailyData } = daily;\n\n      // display current weather temperature\n\n      temp.innerHTML = `${Math.round(temperature)}`;\n\n      // display min temperature\n      const getMinTemp = () => {\n        minTemp.innerHTML = `${Math.round(Math.min(...allTemp))}`;\n      };\n\n      // display max temperature\n      const getMaxTemp = () => {\n        maxTemp.innerHTML = `${Math.round(Math.max(...allTemp))}`;\n      };\n\n      // display current weather icon\n      const iconImg = document.querySelector(\"#icon\");\n      iconImg.src = `https://darksky.net/images/weather-icons/${icon}.png`;\n\n      // display current weather summary\n      const summaryEl = document.querySelector(\"#summary\");\n      summaryEl.innerHTML = summary;\n\n      const hourlySummary = document.querySelector(\"#hourly-summary\");\n      hourlySummary.innerHTML = hourly.summary;\n\n      // create html temp div\n      const createTempDiv = (time, icon, temperature, dataLen) => {\n        const weatherContainer = document.createElement(\"div\");\n        weatherContainer.classList.add(\n          \"item\",\n          \"d-flex\",\n          \"flex-column\",\n          \"align-items-center\"\n        );\n\n        // create weather time\n        const timeEl = document.createElement(\"p\");\n        timeEl.classList.add(\"weather__forecasts__time\");\n\n        if (dataLen.length > 8) {\n          if (new Date(time * 1000).getHours() === new Date().getHours()) {\n            timeEl.innerHTML = \"Now\";\n          } else {\n            timeEl.innerHTML = new Date(time * 1000).toLocaleTimeString(\n              \"en-US\",\n              {\n                hour: \"numeric\",\n                minute: \"numeric\",\n                hour12: false,\n              }\n            );\n          }\n        } else {\n          timeEl.innerHTML = new Date(time * 1000).toLocaleDateString(\"en-US\", {\n            weekday: \"short\",\n          });\n        }\n\n        // create weather icon\n        const iconEl = document.createElement(\"img\");\n        iconEl.classList.add(\"weather__forecasts__img\");\n        iconEl.src = `https://darksky.net/images/weather-icons/${icon}.png`;\n\n        // create weather temp\n        const tempDiv = document.createElement(\"div\");\n        tempDiv.classList.add(\"weather__forecasts__temperature\");\n\n        const tempEl = document.createElement(\"span\");\n        tempEl.classList.add(\"weather__forecasts__temperature__value\");\n        tempEl.innerHTML = `${Math.round(temperature)}`;\n\n        const tempDeg = document.createElement(\"span\");\n        tempDeg.classList.add(\"temperature-degree\");\n        tempDeg.innerHTML = \"&#176;\";\n\n        tempDiv.appendChild(tempEl);\n        tempDiv.appendChild(tempDeg);\n\n        weatherContainer.appendChild(timeEl);\n        weatherContainer.appendChild(iconEl);\n        weatherContainer.appendChild(tempDiv);\n\n        return weatherContainer;\n      };\n\n      // display hourly weather\n      hourlyData.forEach((hour) => {\n        const weatherContainer = createTempDiv(\n          hour.time,\n          hour.icon,\n          hour.temperature,\n          hourlyData\n        );\n        allTemp.push(hour.temperature);\n\n        // append hourly weather to html by owl carousel\n        $(\"#hourly\").owlCarousel();\n        $(\"#hourly\").data(\"owl.carousel\").add([weatherContainer, 0]);\n        $(\"#hourly\").data(\"owl.carousel\").refresh();\n      });\n\n      // min & max temperature calling methods\n      getMinTemp();\n      getMaxTemp();\n\n      // display daily weather\n      dailyData.forEach((day) => {\n        const weatherContainer = createTempDiv(\n          day.time,\n          day.icon,\n          day.temperatureLow,\n          dailyData\n        );\n\n        // append daily weather to html by owl carousel\n        $(\"#daily\").owlCarousel();\n        $(\"#daily\").data(\"owl.carousel\").add([weatherContainer, 0]);\n        $(\"#daily\").data(\"owl.carousel\").refresh();\n      });\n\n      // Celsius/Fahrenheit buttons toggle\n      const toggleTemp = () => {\n        const tempBtn = document.querySelectorAll(\".temperature-btn\");\n\n        tempBtn.forEach((btn) => {\n          btn.addEventListener(\"click\", () => {\n            const temps = document.querySelectorAll(\n              \".weather__forecasts__temperature__value\"\n            );\n\n            tempBtn.forEach((btn) => {\n              btn.classList.remove(\"temperature-btn--right-active\");\n              btn.classList.remove(\"temperature-btn--left-active\");\n            });\n            if (btn.firstElementChild.innerHTML === \"C\") {\n              btn.classList.add(\"temperature-btn--left-active\");\n\n              // main temp\n              temp.innerHTML = `${Math.round(((temp.innerHTML - 32) * 5) / 9)}`;\n\n              // min temp\n              minTemp.innerHTML = `${Math.round(\n                ((minTemp.innerHTML - 32) * 5) / 9\n              )}`;\n\n              // max temp\n              maxTemp.innerHTML = `${Math.round(\n                ((maxTemp.innerHTML - 32) * 5) / 9\n              )}`;\n\n              // hourly temp\n              temps.forEach((temp) => {\n                temp.innerHTML = `${Math.round(\n                  ((temp.innerHTML - 32) * 5) / 9\n                )}`;\n              });\n            } else {\n              btn.classList.add(\"temperature-btn--right-active\");\n\n              // main temp\n              temp.innerHTML = `${Math.round((temp.innerHTML * 9) / 5 + 32)}`;\n\n              // min temp\n              minTemp.innerHTML = `${Math.round(\n                (minTemp.innerHTML * 9) / 5 + 32\n              )}`;\n\n              // max temp\n              maxTemp.innerHTML = `${Math.round(\n                (maxTemp.innerHTML * 9) / 5 + 32\n              )}`;\n\n              // hourly temp\n              temps.forEach((temp) => {\n                temp.innerHTML = `${Math.round((temp.innerHTML * 9) / 5 + 32)}`;\n              });\n            }\n          });\n          // if (tempBtnText.innerHTML === \"C\") {\n          //   tempBtnText.innerHTML = \"F\";\n          // temp.innerHTML = `${Math.round((temp.innerHTML * 9) / 5 + 32)}&deg;F`;\n          // } else {\n          //   tempBtnText.innerHTML = \"C\";\n          // temp.innerHTML = `${Math.round(((temp.innerHTML - 32) * 5) / 9)}&deg;C`;\n          // }\n        });\n      };\n      toggleTemp();\n    });\n  }\n});\n"]}