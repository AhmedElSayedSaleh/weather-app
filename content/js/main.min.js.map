{"version":3,"sources":["jquery.libraries.call.js","main.js"],"names":["$","document","ready","_$$owlCarousel2","owlCarousel","_defineProperty","_$$owlCarousel","loop","nav","dots","0","items","600","1000","addEventListener","temp","querySelector","minTemp","maxTemp","allTemp","cityName","showCity","cityData","lat","lon","address","_getData","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","response","data","wrap","_context2","prev","next","url","concat","fetch","method","cors","headers","Content-Type","Access-Control-Allow-Origin","sent","json","abrupt","t0","console","log","stop","apply","this","arguments","displayWeather","_ref","_callee","e","_context","keyCode","city","value","getCityLocation","innerHTML","_x","getData","then","currently","daily","hourly","temperature","summary","icon","hourlyData","dailyData","Math","round","src","createTempDiv","time","dataLen","weatherContainer","createElement","timeEl","classList","add","length","Date","getHours","toLocaleTimeString","hour","minute","hour12","toLocaleDateString","weekday","iconEl","tempDiv","tempEl","tempDeg","appendChild","tempBtn","forEach","push","refresh","min","max","day","temperatureLow","querySelectorAll","btn","temps","remove","firstElementChild","month","year"],"mappings":"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","file":"main.min.js","sourcesContent":["// ################# forecasts times & dates scroll ###################\n\n$(document).ready(function () {\n  $(\"#hourly\").owlCarousel({\n    loop: true,\n    nav: false,\n    dots: true,\n    loop: false,\n    responsive: {\n      0: {\n        items: 2,\n      },\n      600: {\n        items: 6,\n      },\n      1000: {\n        items: 9,\n      },\n    },\n  });\n\n  $(\"#daily\").owlCarousel({\n    loop: true,\n    nav: false,\n    dots: true,\n    loop: false,\n    responsive: {\n      0: {\n        items: 1,\n      },\n      600: {\n        items: 5,\n      },\n      1000: {\n        items: 8,\n      },\n    },\n  });\n});\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  const temp = document.querySelector(\"#temp\");\n  const minTemp = document.querySelector(\"#min-temp\");\n  const maxTemp = document.querySelector(\"#max-temp\");\n\n  const allTemp = [];\n\n  const cityName = document.querySelector(\"#cityName\");\n  const showCity = document.querySelector(\"#showCity\");\n  let cityData = {\n    lat: \"30.007414\",\n    lon: \"31.491318\",\n    address: \"new cairo, cairo, egypt\",\n  };\n\n  // Get weather from api\n  async function getData() {\n    const url = `https://api.darksky.net/forecast/a177f8481c31fa96c3f95ad4f4f84610/${cityData.lat},${cityData.lon}`;\n    try {\n      const response = await fetch(url, {\n        method: \"GET\",\n        cors: [\n          \"https://ahmedelsayedsaleh.github.io/weather-app/\",\n          \"http://localhost:8080/\",\n        ],\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n        },\n      });\n      const data = await response.json();\n\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  displayWeather();\n\n  // get city location\n  cityName.addEventListener(\"keyup\", async (e) => {\n    if (e.keyCode === 13) {\n      const city = cityName.value;\n      const data = await getCityLocation(city);\n\n      cityData.lat = data.lat;\n      cityData.lon = data.lon;\n      cityData.address = data.address;\n\n      displayWeather();\n\n      showCity.innerHTML = cityData.address;\n      cityName.value = \"\";\n    }\n  });\n\n  // get current date\n  const getDate = () => {\n    const date = new Date().toLocaleDateString(\"en-US\", {\n      weekday: \"long\",\n      month: \"short\",\n      day: \"numeric\",\n      year: \"numeric\",\n    });\n    return date;\n  };\n  // display date in html\n  const setDate = () => {\n    const date = document.querySelector(\"#date\");\n    date.innerHTML = getDate();\n  };\n  setDate();\n\n  // display weather in html\n  function displayWeather() {\n    getData().then((data) => {\n      const { currently, daily, hourly } = data;\n      const { temperature, summary, icon } = currently;\n      const { data: hourlyData } = hourly;\n      const { data: dailyData } = daily;\n\n      // display current weather temperature\n\n      temp.innerHTML = `${Math.round(temperature)}`;\n\n      // display min temperature\n      const getMinTemp = () => {\n        minTemp.innerHTML = `${Math.round(Math.min(...allTemp))}`;\n      };\n\n      // display max temperature\n      const getMaxTemp = () => {\n        maxTemp.innerHTML = `${Math.round(Math.max(...allTemp))}`;\n      };\n\n      // display current weather icon\n      const iconImg = document.querySelector(\"#icon\");\n      iconImg.src = `https://darksky.net/images/weather-icons/${icon}.png`;\n\n      // display current weather summary\n      const summaryEl = document.querySelector(\"#summary\");\n      summaryEl.innerHTML = summary;\n\n      const hourlySummary = document.querySelector(\"#hourly-summary\");\n      hourlySummary.innerHTML = hourly.summary;\n\n      // create html temp div\n      const createTempDiv = (time, icon, temperature, dataLen) => {\n        const weatherContainer = document.createElement(\"div\");\n        weatherContainer.classList.add(\n          \"item\",\n          \"d-flex\",\n          \"flex-column\",\n          \"align-items-center\"\n        );\n\n        // create weather time\n        const timeEl = document.createElement(\"p\");\n        timeEl.classList.add(\"weather__forecasts__time\");\n\n        if (dataLen.length > 8) {\n          if (new Date(time * 1000).getHours() === new Date().getHours()) {\n            timeEl.innerHTML = \"Now\";\n          } else {\n            timeEl.innerHTML = new Date(time * 1000).toLocaleTimeString(\n              \"en-US\",\n              {\n                hour: \"numeric\",\n                minute: \"numeric\",\n                hour12: false,\n              }\n            );\n          }\n        } else {\n          timeEl.innerHTML = new Date(time * 1000).toLocaleDateString(\"en-US\", {\n            weekday: \"short\",\n          });\n        }\n\n        // create weather icon\n        const iconEl = document.createElement(\"img\");\n        iconEl.classList.add(\"weather__forecasts__img\");\n        iconEl.src = `https://darksky.net/images/weather-icons/${icon}.png`;\n\n        // create weather temp\n        const tempDiv = document.createElement(\"div\");\n        tempDiv.classList.add(\"weather__forecasts__temperature\");\n\n        const tempEl = document.createElement(\"span\");\n        tempEl.classList.add(\"weather__forecasts__temperature__value\");\n        tempEl.innerHTML = `${Math.round(temperature)}`;\n\n        const tempDeg = document.createElement(\"span\");\n        tempDeg.classList.add(\"temperature-degree\");\n        tempDeg.innerHTML = \"&#176;\";\n\n        tempDiv.appendChild(tempEl);\n        tempDiv.appendChild(tempDeg);\n\n        weatherContainer.appendChild(timeEl);\n        weatherContainer.appendChild(iconEl);\n        weatherContainer.appendChild(tempDiv);\n\n        return weatherContainer;\n      };\n\n      // display hourly weather\n      hourlyData.forEach((hour) => {\n        const weatherContainer = createTempDiv(\n          hour.time,\n          hour.icon,\n          hour.temperature,\n          hourlyData\n        );\n        allTemp.push(hour.temperature);\n\n        // append hourly weather to html by owl carousel\n        $(\"#hourly\").owlCarousel();\n        $(\"#hourly\").data(\"owl.carousel\").add([weatherContainer, 0]);\n        $(\"#hourly\").data(\"owl.carousel\").refresh();\n      });\n\n      // min & max temperature calling methods\n      getMinTemp();\n      getMaxTemp();\n\n      // display daily weather\n      dailyData.forEach((day) => {\n        const weatherContainer = createTempDiv(\n          day.time,\n          day.icon,\n          day.temperatureLow,\n          dailyData\n        );\n\n        // append daily weather to html by owl carousel\n        $(\"#daily\").owlCarousel();\n        $(\"#daily\").data(\"owl.carousel\").add([weatherContainer, 0]);\n        $(\"#daily\").data(\"owl.carousel\").refresh();\n      });\n\n      // Celsius/Fahrenheit buttons toggle\n      const toggleTemp = () => {\n        const tempBtn = document.querySelectorAll(\".temperature-btn\");\n\n        tempBtn.forEach((btn) => {\n          btn.addEventListener(\"click\", () => {\n            const temps = document.querySelectorAll(\n              \".weather__forecasts__temperature__value\"\n            );\n\n            tempBtn.forEach((btn) => {\n              btn.classList.remove(\"temperature-btn--right-active\");\n              btn.classList.remove(\"temperature-btn--left-active\");\n            });\n            if (btn.firstElementChild.innerHTML === \"C\") {\n              btn.classList.add(\"temperature-btn--left-active\");\n\n              // main temp\n              temp.innerHTML = `${Math.round(((temp.innerHTML - 32) * 5) / 9)}`;\n\n              // min temp\n              minTemp.innerHTML = `${Math.round(\n                ((minTemp.innerHTML - 32) * 5) / 9\n              )}`;\n\n              // max temp\n              maxTemp.innerHTML = `${Math.round(\n                ((maxTemp.innerHTML - 32) * 5) / 9\n              )}`;\n\n              // hourly temp\n              temps.forEach((temp) => {\n                temp.innerHTML = `${Math.round(\n                  ((temp.innerHTML - 32) * 5) / 9\n                )}`;\n              });\n            } else {\n              btn.classList.add(\"temperature-btn--right-active\");\n\n              // main temp\n              temp.innerHTML = `${Math.round((temp.innerHTML * 9) / 5 + 32)}`;\n\n              // min temp\n              minTemp.innerHTML = `${Math.round(\n                (minTemp.innerHTML * 9) / 5 + 32\n              )}`;\n\n              // max temp\n              maxTemp.innerHTML = `${Math.round(\n                (maxTemp.innerHTML * 9) / 5 + 32\n              )}`;\n\n              // hourly temp\n              temps.forEach((temp) => {\n                temp.innerHTML = `${Math.round((temp.innerHTML * 9) / 5 + 32)}`;\n              });\n            }\n          });\n          // if (tempBtnText.innerHTML === \"C\") {\n          //   tempBtnText.innerHTML = \"F\";\n          // temp.innerHTML = `${Math.round((temp.innerHTML * 9) / 5 + 32)}&deg;F`;\n          // } else {\n          //   tempBtnText.innerHTML = \"C\";\n          // temp.innerHTML = `${Math.round(((temp.innerHTML - 32) * 5) / 9)}&deg;C`;\n          // }\n        });\n      };\n      toggleTemp();\n    });\n  }\n});\n"]}